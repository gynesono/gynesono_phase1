{"ast":null,"code":"var _jsxFileName = \"D:\\\\Gynesono\\\\Workspace\\\\gynophase3\\\\src\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Dashboard from './pages/Dashboard'; //import './Login.css';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nasync function loginUser(credentials) {\n  return fetch('http://localhost:3000/pages/api/Login/getLogin', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(credentials)\n  }).then(data => data.json());\n}\n\nexport default function Login(_ref) {\n  _s();\n\n  let {\n    setToken\n  } = _ref;\n  const [username, setUserName] = useState();\n  const [password, setPassword] = useState();\n  const [email, setemail] = useState();\n  const [responseToPost, setPost] = useState();\n  const [isLoggedIn, setIsLoggedIn] = useState(false); //http://localhost:3000/api/Login/getLogin\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      },\n      body: JSON.stringify({\n        userName: username,\n        password: password,\n        email: email\n      }),\n      isBase64Encoded: false\n    }; //https://gpn83tzx9c.execute-api.us-east-1.amazonaws.com/prepord/getlogin\n    //gyne@12345\n\n    const response = await fetch('https://n2qfa92wqk.execute-api.us-east-1.amazonaws.com/prepord/getlogin', requestOptions);\n    const body = await response.text(); //window.alert(body.trim());\n    //window.alert(body.length);\n\n    var str = \"Invalid credentials\";\n    var ans = body.trimEnd().localeCompare(str); //window.alert(ans);\n    // setIsLoggedIn(true);\n\n    if (body.length > 100) {\n      // setIsSubmitted(true);\n      //window.alert(\"hello1\");\n      const token = JSON.parse(body).Attributes.accessKeyId; //window.alert(token); \n\n      const customerID = JSON.parse(body).Attributes.customer_id;\n      const userName = JSON.parse(body).Attributes.user_name;\n      const role = JSON.parse(body).Attributes.role; //window.alert(customerID); \n\n      sessionStorage.setItem('token', JSON.stringify(token));\n      sessionStorage.setItem('customerID', JSON.stringify(customerID));\n      sessionStorage.setItem('userName', JSON.stringify(userName));\n      sessionStorage.setItem('userRole', JSON.stringify(role));\n      setIsLoggedIn(true); //window.alert(isLoggedIn);\n    } else {\n      // Username not found\n      //setErrorMessages({ responseToPost: body });\n      //window.alert(\"hello2\");\n      //this.state.responseToPost = \"Invalid user name or password or email address\"\n      setPost(\"Invalid user name or password or email address\");\n    } //setToken(token);\n\n  };\n\n  if (isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 12\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-4 offset-lg-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-user-md fa-5x\",\n            style: {\n              color: 'hotpink',\n              textAlign: 'center',\n              marginLeft: '50%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              marginLeft: '50%'\n            },\n            children: \"Gyno\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 118\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\xA0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: 'red',\n              fontSize: '14px',\n              fontWeight: 'bold',\n              textAlign: 'center'\n            },\n            children: responseToPost\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"h3 mb-3 fw-normal\",\n            children: /*#__PURE__*/_jsxDEV(\"center\", {\n              children: \"Please sign in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 49\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSubmit,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-floating\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  id: \"floatingInput\",\n                  placeholder: \"Username\",\n                  name: \"un\",\n                  onChange: e => setUserName(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-floating\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: \"form-control\",\n                  id: \"floatingPassword\",\n                  placeholder: \"Password\",\n                  name: \"pw\",\n                  onChange: e => setPassword(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-floating\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  className: \"form-control\",\n                  id: \"floatingInput\",\n                  placeholder: \"Email\",\n                  name: \"em\",\n                  onChange: e => setemail(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\xA0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"w-100 btn btn btn-lg btn-primary\",\n                style: {\n                  backgroundColor: 'hotpink'\n                },\n                children: \"Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-5 mb-3 text-muted\",\n                children: /*#__PURE__*/_jsxDEV(\"center\", {\n                  children: \"\\xA9 2022\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 55\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 14\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-overlay\",\n          \"data-reff\": \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this) // <div>\n    // <h1>Please Log In</h1>\n    // <form onSubmit={handleSubmit}>\n    //     <label>\n    //     <p>Username</p>\n    //     <input type=\"text\" onChange={e => setUserName(e.target.value)} />\n    //     </label>\n    //     <label>\n    //     <p>Password</p>\n    //     <input type=\"password\" onChange={e => setPassword(e.target.value)} />\n    //     </label>\n    //     <label>\n    //     <p>email</p>\n    //     <input type=\"email\" onChange={e => setemail(e.target.value)} />\n    //     </label>\n    //     <div>\n    //     <button type=\"submit\">Submit</button>\n    //     </div>\n    // </form>\n    // <p>{responseToPost}</p>\n    // </div>\n    ;\n  }\n}\n\n_s(Login, \"EQDPatVgve3zzTMYUDkNYgJws7Q=\");\n\n_c = Login;\nLogin.propTypes = {\n  setToken: PropTypes.func.isRequired\n};\n\nfunction setToken(userToken) {\n  sessionStorage.setItem('token', JSON.stringify(userToken));\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["D:/Gynesono/Workspace/gynophase3/src/Login.js"],"names":["React","useState","Redirect","PropTypes","Dashboard","loginUser","credentials","fetch","method","headers","body","JSON","stringify","then","data","json","Login","setToken","username","setUserName","password","setPassword","email","setemail","responseToPost","setPost","isLoggedIn","setIsLoggedIn","handleSubmit","e","preventDefault","requestOptions","userName","isBase64Encoded","response","text","str","ans","trimEnd","localeCompare","length","token","parse","Attributes","accessKeyId","customerID","customer_id","user_name","role","sessionStorage","setItem","color","textAlign","marginLeft","fontSize","fontWeight","target","value","backgroundColor","propTypes","func","isRequired","userToken"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport Dashboard from './pages/Dashboard';\r\n//import './Login.css';\r\n\r\nasync function loginUser(credentials) {\r\n return fetch('http://localhost:3000/pages/api/Login/getLogin', {\r\n   method: 'POST',\r\n   headers: {\r\n     'Content-Type': 'application/json'\r\n   },\r\n   body: JSON.stringify(credentials)\r\n })\r\n   .then(data => data.json())\r\n}\r\n\r\nexport default function Login({ setToken }) {\r\n  const [username, setUserName] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [email, setemail] = useState();\r\n  const [responseToPost, setPost] = useState();\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n \r\n  //http://localhost:3000/api/Login/getLogin\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Access-Control-Allow-Origin':'*'\r\n        },\r\n        body: JSON.stringify({userName: username,\r\n          password: password,\r\n          email: email\r\n        }),\r\n        isBase64Encoded: false\r\n      };\r\n    //https://gpn83tzx9c.execute-api.us-east-1.amazonaws.com/prepord/getlogin\r\n//gyne@12345\r\n    const response = await fetch('https://n2qfa92wqk.execute-api.us-east-1.amazonaws.com/prepord/getlogin', requestOptions);\r\n   \r\n    const body = await response.text();\r\n    //window.alert(body.trim());\r\n    //window.alert(body.length);\r\n    var str = \"Invalid credentials\";\r\n    var ans = body.trimEnd().localeCompare(str);\r\n    //window.alert(ans);\r\n    \r\n    \r\n   // setIsLoggedIn(true);\r\n    if (body.length>100) {\r\n      \r\n        // setIsSubmitted(true);\r\n        //window.alert(\"hello1\");\r\n        const token = JSON.parse(body).Attributes.accessKeyId; //window.alert(token); \r\n        const customerID = JSON.parse(body).Attributes.customer_id;\r\n        const userName = JSON.parse(body).Attributes.user_name;\r\n        const role = JSON.parse(body).Attributes.role;\r\n        \r\n        //window.alert(customerID); \r\n        sessionStorage.setItem('token', JSON.stringify(token)); \r\n        sessionStorage.setItem('customerID', JSON.stringify(customerID)); \r\n        sessionStorage.setItem('userName', JSON.stringify(userName)); \r\n        sessionStorage.setItem('userRole', JSON.stringify(role)); \r\n        setIsLoggedIn(true);\r\n        //window.alert(isLoggedIn);\r\n        \r\n       \r\n       \r\n     } else {\r\n       // Username not found\r\n       //setErrorMessages({ responseToPost: body });\r\n      \r\n       //window.alert(\"hello2\");\r\n       //this.state.responseToPost = \"Invalid user name or password or email address\"\r\n       setPost(\"Invalid user name or password or email address\");\r\n     }    \r\n    //setToken(token);\r\n  }\r\n  if (isLoggedIn) {\r\n   return (<div><Dashboard /> </div>)\r\n   } else {\r\n    return(\r\n      <div className='App'>                \r\n      <div className=\"page-wrapper\">\r\n          <div className=\"col-lg-4 offset-lg-2\">\r\n              <i className=\"fa fa-user-md fa-5x\" style={{color:'hotpink', textAlign:'center', marginLeft:'50%'}}></i><h4 style={{marginLeft:'50%'}}>Gyno</h4>\r\n              <div>&nbsp;</div>\r\n              <p style={{color:'red', fontSize:'14px',fontWeight:'bold', textAlign:'center' }}>{responseToPost}</p>\r\n              <h1 className=\"h3 mb-3 fw-normal\"><center>Please sign in</center></h1>\r\n             <div>\r\n             <form onSubmit={handleSubmit}>\r\n                  <div className=\"form-floating\">\r\n                      <input type=\"text\" className=\"form-control\" id=\"floatingInput\" placeholder=\"Username\" name= \"un\" onChange={e => setUserName(e.target.value)}/>\r\n                  </div>\r\n                  <div className=\"form-floating\">\r\n                      <input type=\"password\" className=\"form-control\" id=\"floatingPassword\" placeholder=\"Password\" name=\"pw\" onChange={e => setPassword(e.target.value)}/>\r\n                  </div>\r\n                  <div className=\"form-floating\">\r\n                      <input type=\"email\" className=\"form-control\" id=\"floatingInput\" placeholder=\"Email\" name= \"em\" onChange={e => setemail(e.target.value)}/>\r\n                  </div>\r\n                  <div>&nbsp;</div>\r\n                  <button type=\"submit\" className=\"w-100 btn btn btn-lg btn-primary\" style={{backgroundColor: 'hotpink'}}>Submit</button>\r\n                  <p className=\"mt-5 mb-3 text-muted\"><center>&copy; 2022</center></p>\r\n                  {/* <a href=\"dashboard.html\" class=\"w-100 btn btn btn-lg btn-primary\" style=\"background-color: hotpink\">Sign in</a> */}\r\n                  <br /><br/>\r\n                </form>\r\n                \r\n              </div>\r\n          </div>\r\n          <div className=\"sidebar-overlay\" data-reff=\"\"></div>\r\n      </div>         \r\n      <h3 ></h3>\r\n     </div> \r\n\r\n\r\n        // <div>\r\n        // <h1>Please Log In</h1>\r\n        // <form onSubmit={handleSubmit}>\r\n        //     <label>\r\n        //     <p>Username</p>\r\n        //     <input type=\"text\" onChange={e => setUserName(e.target.value)} />\r\n        //     </label>\r\n        //     <label>\r\n        //     <p>Password</p>\r\n        //     <input type=\"password\" onChange={e => setPassword(e.target.value)} />\r\n        //     </label>\r\n        //     <label>\r\n        //     <p>email</p>\r\n        //     <input type=\"email\" onChange={e => setemail(e.target.value)} />\r\n        //     </label>\r\n        //     <div>\r\n        //     <button type=\"submit\">Submit</button>\r\n        //     </div>\r\n        // </form>\r\n        // <p>{responseToPost}</p>\r\n        \r\n        // </div>\r\n    )\r\n}\r\n}\r\n\r\nLogin.propTypes = {\r\n  setToken: PropTypes.func.isRequired\r\n};\r\n\r\nfunction setToken(userToken) {\r\n    sessionStorage.setItem('token', JSON.stringify(userToken));\r\n}"]},"metadata":{},"sourceType":"module"}