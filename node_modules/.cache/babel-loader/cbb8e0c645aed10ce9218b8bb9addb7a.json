{"ast":null,"code":"var _jsxFileName = \"D:\\\\Gynesono\\\\Workspace\\\\gynophase3\\\\src\\\\pages\\\\AppointmentUpdate.js\";\nimport { Link } from 'react-router-dom';\nimport Leftmenu from './Navigation/Leftmenu';\nimport Header from './Navigation/Header';\nimport React, { Component } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AppointmentUpdate extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      response: '',\n      post: '',\n      responseToPost: '',\n      id: parseInt(window.location.href.split(\"/\")[4])\n    };\n\n    this.handleOnload = async customerID => {\n      const requestHeader = {\n        \"content-Type\": \"application/json\",\n        accessIDKey: this.state.Token\n      };\n      const response = await fetch('http://localhost:3000/api/Appointments/getAppointmentsByAppId', {\n        method: 'POST',\n        headers: requestHeader,\n        body: JSON.stringify({\n          appointmentID: this.state.id,\n          customerID: customerID\n        })\n      });\n      const body = await response.json();\n      this.setState({\n        id: body.Items[0].appointment_id,\n        datee: this.handleOnloadDate(body.Items[0].appointment_date),\n        tm: body.Items[0].appointment_time,\n        ptFirstName: body.Items[0].patient_details.patient_first_name,\n        ptLastName: body.Items[0].patient_details.patient_last_name,\n        rm: body.Items[0].patient_details.patient_appointment_remarks,\n        mn: body.Items[0].patient_details.patient_contact_no\n      });\n    };\n\n    this.handleDateSubmit = str => {\n      const m = str.split(\"-\");\n      let str_date = m[2] + \"/\" + m[1] + \"/\" + m[0];\n      return str_date;\n    };\n\n    this.handleOnloadDate = str => {\n      const m = str.split(\"/\");\n      let str_date = m[2] + \"-\" + m[1] + \"-\" + m[0];\n      return str_date;\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault();\n      const requestHeader = {\n        \"content-Type\": \"application/json\",\n        accessIDKey: this.state.Token\n      };\n      const response = await fetch('http://localhost:3000/api/Appointments/setAppointment', {\n        method: 'POST',\n        headers: requestHeader,\n        body: JSON.stringify({\n          customerID: this.state.customerID,\n          appointmentID: this.state.id,\n          appointmentDate: this.handleDateSubmit(this.state.datee),\n          appointmentTime: this.state.tm,\n          patientFirstName: this.state.ptFirstName,\n          patientLastName: this.state.ptLastName,\n          patientMobileNumber: this.state.mn,\n          appointmentRemarks: this.state.rm\n        })\n      });\n      const body = await response.json();\n      this.setState({\n        responseToPost: body\n      });\n    };\n  }\n\n  componentDidMount() {\n    const tokenString = sessionStorage.getItem('token');\n    const userToken = JSON.parse(tokenString);\n    const customerIDString = sessionStorage.getItem('customerID');\n    const customerID = parseInt(customerIDString);\n    this.setState({\n      Token: userToken\n    });\n    this.setState({\n      customerID: customerID\n    });\n    this.handleOnload(customerID);\n    var appID = parseInt(window.location.href.split(\"/\")[4]);\n    this.setState({\n      id: appID\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: this.handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content\",\n            children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Leftmenu, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-lg-8 offset-lg-2\",\n                children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"page-title\",\n                  children: \"Add Appointment\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 55\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-lg-8 offset-lg-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-2 row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Appointment ID\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 126,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 125,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"form-control\",\n                      type: \"text\",\n                      value: this.state.id,\n                      disabled: true,\n                      readonly: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-2 row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"First Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 134,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      className: \"form-control\",\n                      name: \"patientFirstName\",\n                      value: this.state.ptFirstName,\n                      onChange: e => this.setState({\n                        ptFirstName: e.target.value\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 137,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Last Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 141,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      className: \"form-control\",\n                      name: \"patientLastName\",\n                      value: this.state.ptLastName,\n                      onChange: e => this.setState({\n                        ptLastName: e.target.value\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 144,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 143,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-2 row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 149,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 148,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"date\",\n                      className: \"form-control\",\n                      name: \"date\",\n                      value: this.state.datee,\n                      onChange: e => this.setState({\n                        datee: e.target.value\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 152,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Time\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 156,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"time\",\n                      className: \"form-control\",\n                      name: \"time\",\n                      value: this.state.tm,\n                      onChange: e => this.setState({\n                        tm: e.target.value\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 159,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-2 row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Mobile Number\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 164,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      id: \"uname\",\n                      name: \"patientMobileNumber\",\n                      required: true,\n                      size: \"10\",\n                      placeholder: \"Username\",\n                      minlength: \"10\",\n                      maxlength: \"10\",\n                      className: \"form-control\",\n                      value: this.state.mn,\n                      onChange: e => this.setState({\n                        mn: e.target.value\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 167,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Remark\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 172,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      className: \"form-control\",\n                      name: \"appointmentRemarks\",\n                      value: this.state.rm,\n                      onChange: e => this.setState({\n                        rm: e.target.value\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 175,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-2 row\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"m-t-20 text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-primary\",\n                      type: \"submit\",\n                      children: \"Update Appointment\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"/appoinmentSearch\",\n                      className: \"btn btn-primary\",\n                      children: \"Cancel\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 181,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default AppointmentUpdate;","map":{"version":3,"sources":["D:/Gynesono/Workspace/gynophase3/src/pages/AppointmentUpdate.js"],"names":["Link","Leftmenu","Header","React","Component","AppointmentUpdate","state","response","post","responseToPost","id","parseInt","window","location","href","split","handleOnload","customerID","requestHeader","accessIDKey","Token","fetch","method","headers","body","JSON","stringify","appointmentID","json","setState","Items","appointment_id","datee","handleOnloadDate","appointment_date","tm","appointment_time","ptFirstName","patient_details","patient_first_name","ptLastName","patient_last_name","rm","patient_appointment_remarks","mn","patient_contact_no","handleDateSubmit","str","m","str_date","handleSubmit","e","preventDefault","appointmentDate","appointmentTime","patientFirstName","patientLastName","patientMobileNumber","appointmentRemarks","componentDidMount","tokenString","sessionStorage","getItem","userToken","parse","customerIDString","appID","render","target","value"],"mappings":"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","sourcesContent":["import { Link } from 'react-router-dom';\r\nimport Leftmenu from './Navigation/Leftmenu';\r\nimport Header from './Navigation/Header';\r\nimport React, { Component } from \"react\";\r\n\r\nclass AppointmentUpdate extends Component {\r\n\r\n\r\n  state = {\r\n    response: '',\r\n    post: '',\r\n    responseToPost: '',\r\n    id: parseInt(window.location.href.split(\"/\")[4])\r\n  };\r\n\r\n  componentDidMount() {\r\n   \r\n    const tokenString = sessionStorage.getItem('token');\r\n    const userToken = JSON.parse(tokenString);\r\n    const customerIDString = sessionStorage.getItem('customerID');\r\n    const customerID = parseInt(customerIDString);\r\n    this.setState({ Token: userToken });\r\n    this.setState({ customerID: customerID });\r\n    this.handleOnload(customerID)\r\n    var appID = parseInt(window.location.href.split(\"/\")[4])\r\n    this.setState({ id: appID });\r\n\r\n  }\r\n\r\n  handleOnload = async (customerID) => {\r\n    const requestHeader = {\r\n      \"content-Type\": \"application/json\",\r\n      accessIDKey: this.state.Token\r\n    };\r\n\r\n    const response = await fetch('http://localhost:3000/api/Appointments/getAppointmentsByAppId', {\r\n\r\n      method: 'POST',\r\n      headers: requestHeader,\r\n      body: JSON.stringify({\r\n        appointmentID: this.state.id,\r\n        customerID: customerID,\r\n\r\n\r\n      }),\r\n\r\n    });\r\n\r\n    const body = await response.json();\r\n    this.setState({\r\n      id: body.Items[0].appointment_id,\r\n      datee: this.handleOnloadDate(body.Items[0].appointment_date),\r\n      tm: body.Items[0].appointment_time,\r\n      ptFirstName: body.Items[0].patient_details.patient_first_name,\r\n      ptLastName: body.Items[0].patient_details.patient_last_name,\r\n      rm: body.Items[0].patient_details.patient_appointment_remarks,\r\n      mn: body.Items[0].patient_details.patient_contact_no,\r\n    });\r\n\r\n  }\r\n\r\n  handleDateSubmit = (str) => {\r\n\r\n    const m = str.split(\"-\");\r\n    let str_date = m[2] + \"/\" + m[1] + \"/\" + m[0];\r\n\r\n    return str_date;\r\n\r\n  }\r\n  handleOnloadDate = (str) => {\r\n    const m = str.split(\"/\");\r\n    let str_date = m[2] + \"-\" + m[1] + \"-\" + m[0];\r\n    return str_date;\r\n  }\r\n\r\n  handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const requestHeader = {\r\n      \"content-Type\": \"application/json\",\r\n      accessIDKey: this.state.Token\r\n    };\r\n    \r\n    const response = await fetch('http://localhost:3000/api/Appointments/setAppointment', {\r\n      method: 'POST',\r\n      headers: requestHeader,\r\n\r\n      body: JSON.stringify({\r\n        customerID: this.state.customerID,\r\n        appointmentID: this.state.id,\r\n        appointmentDate: this.handleDateSubmit(this.state.datee),\r\n        appointmentTime: this.state.tm,\r\n        patientFirstName: this.state.ptFirstName,\r\n        patientLastName: this.state.ptLastName,\r\n        patientMobileNumber: this.state.mn,\r\n        appointmentRemarks: this.state.rm,\r\n      }),\r\n\r\n    });\r\n\r\n    const body = await response.json();\r\n\r\n    this.setState({ responseToPost: body });\r\n\r\n\r\n  };\r\n\r\n  render() {\r\n    return (\r\n\r\n      <form onSubmit={this.handleSubmit}>\r\n        <div className=\"main-wrapper\">\r\n\r\n          <div className=\"page-wrapper\">\r\n            <div className=\"content\">\r\n              <Header />\r\n              <Leftmenu />\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-8 offset-lg-2\"><h4 className=\"page-title\">Add Appointment</h4></div>\r\n              </div>\r\n\r\n\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-8 offset-lg-2\">\r\n                  <div className=\"mb-2 row\">\r\n                    <div className=\"col-sm-2\">\r\n                      <label>Appointment ID</label>\r\n                    </div>\r\n                    <div className=\"col-sm-4\">\r\n                      <input className=\"form-control\" type=\"text\" value={this.state.id} disabled readonly />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mb-2 row\">\r\n                    <div className=\"col-sm-2\">\r\n                      <label>First Name</label>\r\n                    </div>\r\n                    <div className=\"col-sm-4\">\r\n                      <input type=\"text\" className=\"form-control\" name=\"patientFirstName\" value={this.state.ptFirstName} onChange={e => this.setState({ ptFirstName: e.target.value })} />\r\n\r\n                    </div>\r\n                    <div className=\"col-sm-2\">\r\n                      <label>Last Name</label>\r\n                    </div>\r\n                    <div className=\"col-sm-4\">\r\n                      <input type=\"text\" className=\"form-control\" name=\"patientLastName\" value={this.state.ptLastName} onChange={e => this.setState({ ptLastName: e.target.value })} />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mb-2 row\">\r\n                    <div className=\"col-sm-2\">\r\n                      <label>Date</label>\r\n                    </div>\r\n                    <div className=\"col-sm-4\">\r\n                      <input type=\"date\" className=\"form-control\" name=\"date\" value={this.state.datee} onChange={e => this.setState({ datee: e.target.value })} />\r\n\r\n                    </div>\r\n                    <div className=\"col-sm-2\">\r\n                      <label>Time</label>\r\n                    </div>\r\n                    <div className=\"col-sm-4\">\r\n                      <input type=\"time\" className=\"form-control\" name=\"time\" value={this.state.tm} onChange={e => this.setState({ tm: e.target.value })} />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mb-2 row\">\r\n                                        <div className=\"col-sm-2\">\r\n                                            <label>Mobile Number</label>\r\n                                        </div>\r\n                                        <div className=\"col-sm-4\">\r\n                                            <input type=\"text\" id=\"uname\" name=\"patientMobileNumber\" required size=\"10\"\r\n                                                placeholder=\"Username\"\r\n                                                minlength=\"10\" maxlength=\"10\" className=\"form-control\" value={this.state.mn} onChange={e => this.setState({ mn: e.target.value })} />\r\n                                        </div>\r\n                                        <div className=\"col-sm-2\">\r\n                                            <label>Remark</label>\r\n                                        </div>\r\n                                        <div className=\"col-sm-4\">\r\n                                            <input type=\"text\" className=\"form-control\" name=\"appointmentRemarks\" value={this.state.rm} onChange={e => this.setState({ rm: e.target.value })} />\r\n                                        </div>\r\n                                    </div>\r\n                  <div className=\"mb-2 row\">\r\n                    <div className=\"m-t-20 text-center\">\r\n                      <button className=\"btn btn-primary\" type=\"submit\" >Update Appointment</button>\r\n                      <Link to=\"/appoinmentSearch\" className=\"btn btn-primary\">Cancel</Link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </form>\r\n\r\n    );\r\n  }\r\n}\r\nexport default AppointmentUpdate;\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}