{"ast":null,"code":"var _jsxFileName = \"D:\\\\Gynesono\\\\Workspace\\\\gynophase3\\\\src\\\\pages\\\\Dashboard.js\";\nimport { Link } from 'react-router-dom';\nimport React, { Component } from 'react';\nimport DashAppoint from './Dashboard_Component/DashAppoint';\nimport DashAttend from './Dashboard_Component/DashAttend';\nimport DashCancel from './Dashboard_Component/DashCancel';\nimport DashPending from './Dashboard_Component/DashPending';\nimport Leftmenu from './Navigation/Leftmenu';\nimport Header from './Navigation/Header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Dashboard extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      response: '',\n      post: '',\n      responseToPost: '',\n      customerID: ''\n    };\n\n    this.CancelStatus = async key => {\n      const requestHeader = {\n        \"content-Type\": \"application/json\",\n        accessIDKey: this.state.Token\n      };\n      window.location.reload(true);\n      const response = await fetch('http://localhost:3000/api/Appointments/setAppointmentsStatus', {\n        method: 'POST',\n        headers: requestHeader,\n        body: JSON.stringify({\n          appointmentID: key,\n          customerID: this.state.customerID,\n          appointmentStatus: \"Cancelled\"\n        })\n      });\n    };\n\n    this.handleOnload = async customerID => {\n      const requestHeader = {\n        \"content-Type\": \"application/json\",\n        accessIDKey: this.state.Token\n      };\n      const response = await fetch('http://localhost:3000/api/Appointments/getAppointmentsforDash', {\n        method: 'POST',\n        headers: requestHeader,\n        body: JSON.stringify({\n          customerID: customerID\n        })\n      });\n      const body = await response.json();\n      this.setState({\n        responseToPost: body.Items\n      });\n    };\n\n    this.DashCancelCount = () => {\n      let count = 0;\n\n      for (var i = 0; i < this.state.responseToPost.length; i++) {\n        if (this.state.responseToPost[i].appointment_status === \"Cancelled\") {\n          count++;\n        }\n      }\n\n      return count;\n    };\n\n    this.DashPandingCount = () => {\n      let count = 0;\n\n      for (var i = 0; i < this.state.responseToPost.length; i++) {\n        if (this.state.responseToPost[i].appointment_status === \"Open\") {\n          count++;\n        }\n      }\n\n      return count;\n    };\n  }\n\n  componentDidMount() {\n    const tokenString = sessionStorage.getItem('token');\n    const userToken = JSON.parse(tokenString);\n    const customerIDString = sessionStorage.getItem('customerID');\n    const customerID = parseInt(customerIDString);\n    this.setState({\n      Token: userToken\n    });\n    this.setState({\n      customerID: customerID\n    });\n    const roleString = sessionStorage.getItem('userRole');\n    const userRole = JSON.parse(roleString);\n    this.setState({\n      userRole: userRole\n    });\n    this.handleOnload(customerID);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Leftmenu, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(DashAppoint, {\n              dashAppoint: this.state.responseToPost.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(DashAttend, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(DashCancel, {\n              dashCancel: this.DashCancelCount()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(DashPending, {\n              dashPanding: this.DashPandingCount()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-md-6 col-lg-8 col-xl-8 appointment-table\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-header\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-sm-6 col-3\",\n                      children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"page-title\",\n                        children: \"Today's Appointments\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 125,\n                        columnNumber: 77\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 125,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-sm-6 col-9 text-right m-b-20\",\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: \"/appointmentAdd\",\n                        className: \"btn btn btn-primary  float-right\",\n                        href: \"appointment-add.html\",\n                        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fa fa-plus\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 128,\n                          columnNumber: 77\n                        }, this), \" Add Appointment\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 126,\n                        columnNumber: 95\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 126,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 123,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body\",\n                  children: /*#__PURE__*/_jsxDEV(\"table\", {\n                    className: \"table table-border table-striped custom-table datatable mb-0\",\n                    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          className: \"ant-table-cell\",\n                          children: \"Customer Name\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 138,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          className: \"ant-table-cell\",\n                          children: \"Appointment Date\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 139,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          className: \"ant-table-cell\",\n                          children: \"Appointment Time\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 140,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          className: \"ant-table-cell\",\n                          children: \"Status\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 141,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          className: \"ant-table-cell\",\n                          children: \"Action\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 142,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 136,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 135,\n                      columnNumber: 45\n                    }, this), this.state.responseToPost.length > 0 && /*#__PURE__*/_jsxDEV(\"tbody\", {\n                      children: this.state.responseToPost.map(items => /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                          children: `${items.patient_details.patient_first_name} ${items.patient_details.patient_last_name}`\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 153,\n                          columnNumber: 61\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: items.appointment_date\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 154,\n                          columnNumber: 61\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: items.appointment_time\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 155,\n                          columnNumber: 61\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"text-warning\",\n                          children: items.appointment_status\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 156,\n                          columnNumber: 61\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"text-right\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"dropdown dropdown-action\",\n                            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                              className: \"action-icon dropdown-toggle\",\n                              \"data-toggle\": \"dropdown\",\n                              \"aria-expanded\": \"false\",\n                              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                                className: \"fa fa-ellipsis-v\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 160,\n                                columnNumber: 95\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 159,\n                              columnNumber: 69\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"dropdown-menu dropdown-menu-right\",\n                              children: [/*#__PURE__*/_jsxDEV(Link, {\n                                to: \"/appointmentUpdate/\" + items.appointment_id,\n                                className: \"dropdown-item\",\n                                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                                  className: \"fa fa-pencil m-r-5\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 162,\n                                  columnNumber: 156\n                                }, this), \" Edit\"]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 162,\n                                columnNumber: 73\n                              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                                className: \"dropdown-item\",\n                                \"data-toggle\": \"modal\",\n                                \"data-target\": \"#delete_patient\",\n                                onClick: () => this.CancelStatus(items.appointment_id),\n                                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                                  className: \"fa fa-trash-o m-r-5\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 165,\n                                  columnNumber: 145\n                                }, this), \" Cancel\"]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 164,\n                                columnNumber: 73\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 161,\n                              columnNumber: 69\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 158,\n                            columnNumber: 65\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 157,\n                          columnNumber: 61\n                        }, this)]\n                      }, items.appointment_id, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 151,\n                        columnNumber: 57\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 147,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 134,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-md-6 col-lg-4 col-xl-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"page-title\",\n                      children: \"Customer Total\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"chart-label\",\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fa fa-caret-up\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 183,\n                        columnNumber: 72\n                      }, this), \"15% Higher than Last Month\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 183,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: \"./assets/img/report.png\",\n                      width: \"100%\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 184,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-12 col-sm-12 col-lg-12 col-xl-12\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"dash-widget\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"dash-widget-info text-right\",\n                          children: [\"MTD\", /*#__PURE__*/_jsxDEV(\"h3\", {\n                            children: /*#__PURE__*/_jsxDEV(\"a\", {\n                              href: \"report-payments-by-customers.html\",\n                              style: {\n                                color: 'gray'\n                              },\n                              children: \"150\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 190,\n                              columnNumber: 64\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 190,\n                            columnNumber: 60\n                          }, this), \"YTD\", /*#__PURE__*/_jsxDEV(\"h3\", {\n                            children: /*#__PURE__*/_jsxDEV(\"a\", {\n                              href: \"report-payments-by-customers.html\",\n                              style: {\n                                color: 'gray'\n                              },\n                              children: \"6,530\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 191,\n                              columnNumber: 64\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 191,\n                            columnNumber: 60\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 189,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 188,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 187,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-overlay\",\n        \"data-reff\": \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["D:/Gynesono/Workspace/gynophase3/src/pages/Dashboard.js"],"names":["Link","React","Component","DashAppoint","DashAttend","DashCancel","DashPending","Leftmenu","Header","Dashboard","state","response","post","responseToPost","customerID","CancelStatus","key","requestHeader","accessIDKey","Token","window","location","reload","fetch","method","headers","body","JSON","stringify","appointmentID","appointmentStatus","handleOnload","json","setState","Items","DashCancelCount","count","i","length","appointment_status","DashPandingCount","componentDidMount","tokenString","sessionStorage","getItem","userToken","parse","customerIDString","parseInt","roleString","userRole","render","map","items","patient_details","patient_first_name","patient_last_name","appointment_date","appointment_time","appointment_id","color"],"mappings":"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","sourcesContent":["import { Link } from 'react-router-dom';\r\nimport React, { Component } from 'react';\r\nimport DashAppoint from './Dashboard_Component/DashAppoint'\r\nimport DashAttend from './Dashboard_Component/DashAttend';\r\nimport DashCancel from './Dashboard_Component/DashCancel';\r\nimport DashPending from './Dashboard_Component/DashPending';\r\nimport Leftmenu from './Navigation/Leftmenu';\r\nimport Header from './Navigation/Header';\r\n\r\nclass Dashboard extends Component {\r\n    state = {\r\n        response: '',\r\n        post: '',\r\n        responseToPost: '',\r\n        customerID: '',\r\n    };\r\n\r\n    componentDidMount() {\r\n        const tokenString = sessionStorage.getItem('token');\r\n        const userToken = JSON.parse(tokenString);\r\n        const customerIDString = sessionStorage.getItem('customerID');\r\n        const customerID = parseInt(customerIDString);\r\n        this.setState({ Token: userToken });\r\n        this.setState({ customerID: customerID });\r\n\r\n        const roleString = sessionStorage.getItem('userRole');\r\n        const userRole = JSON.parse(roleString);\r\n        this.setState({ userRole: userRole });\r\n        this.handleOnload(customerID)\r\n    }\r\n\r\n\r\n    CancelStatus = async (key) => {\r\n        const requestHeader = {\r\n            \"content-Type\": \"application/json\",\r\n            accessIDKey: this.state.Token\r\n        };\r\n        window.location.reload(true);\r\n        const response = await fetch('http://localhost:3000/api/Appointments/setAppointmentsStatus', {\r\n          method: 'POST',\r\n          headers: requestHeader,\r\n          body: JSON.stringify({appointmentID: key,\r\n            customerID:this.state.customerID,\r\n            appointmentStatus: \"Cancelled\"\r\n\r\n          }),\r\n          \r\n        });\r\n       \r\n    \r\n      }\r\n\r\n\r\n\r\n    handleOnload = async (customerID) => {\r\n        const requestHeader = {\r\n            \"content-Type\": \"application/json\",\r\n            accessIDKey: this.state.Token\r\n        };\r\n\r\n        const response = await fetch('http://localhost:3000/api/Appointments/getAppointmentsforDash', {\r\n            method: 'POST',\r\n            headers: requestHeader,\r\n            body: JSON.stringify({\r\n                customerID: customerID\r\n            }),\r\n\r\n        });\r\n\r\n\r\n        const body = await response.json();\r\n\r\n        this.setState({ responseToPost: body.Items });\r\n    };\r\n\r\n    DashCancelCount = () => {\r\n        let count=0;\r\n        for (var i=0;i<this.state.responseToPost.length;i++)\r\n        {\r\n        if(this.state.responseToPost[i].appointment_status===\"Cancelled\")\r\n        {\r\n            count++;\r\n        }\r\n        \r\n        }\r\n        return count;\r\n    }\r\n    DashPandingCount = () => {\r\n        let count=0;\r\n        for (var i=0;i<this.state.responseToPost.length;i++)\r\n        {\r\n        if(this.state.responseToPost[i].appointment_status===\"Open\")\r\n        {\r\n            count++;\r\n        }\r\n        \r\n        }\r\n        return count;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"main-wrapper\">\r\n\r\n\r\n                <div className=\"page-wrapper\">\r\n                    <div className=\"content\">\r\n                        <div className=\"row\">\r\n                            <Header />\r\n                            <Leftmenu />\r\n                            <DashAppoint dashAppoint={this.state.responseToPost.length} />\r\n                            <DashAttend />\r\n                            {/* //list.filter((item)=>item.status == \"cancel\").length */}\r\n                            {/* this.state.responseToPost.filter((items)=>items.appointment_status === \"Cancelled\").length */}\r\n                            <DashCancel dashCancel={this.DashCancelCount()}/> \r\n                            <DashPending dashPanding={this.DashPandingCount()}/>\r\n\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-12 col-md-6 col-lg-8 col-xl-8 appointment-table\">\r\n                                <div className=\"card\">\r\n                                    <div className=\"card-header\">\r\n                                        <div className=\"row\">\r\n\r\n                                            <div className=\"col-sm-6 col-3\"><h4 className=\"page-title\">Today's Appointments</h4></div>\r\n                                            <div className=\"col-sm-6 col-9 text-right m-b-20\"><Link to=\"/appointmentAdd\"\r\n                                                className=\"btn btn btn-primary  float-right\"\r\n                                                href=\"appointment-add.html\"><i className=\"fa fa-plus\"></i> Add Appointment</Link>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"card-body\">\r\n                                        <table className=\"table table-border table-striped custom-table datatable mb-0\">\r\n                                            <thead>\r\n                                                <tr>\r\n                                             \r\n                                                    <th className=\"ant-table-cell\">Customer Name</th>\r\n                                                    <th className=\"ant-table-cell\">Appointment Date</th>\r\n                                                    <th className=\"ant-table-cell\">Appointment Time</th>\r\n                                                    <th className=\"ant-table-cell\">Status</th>\r\n                                                    <th className=\"ant-table-cell\">Action</th>\r\n                                                </tr>\r\n                                            </thead>\r\n\r\n                                            {this.state.responseToPost.length > 0 && (\r\n                                                <tbody>\r\n                                                    {this.state.responseToPost.map((items) => (\r\n\r\n\r\n                                                        <tr key={items.appointment_id}>\r\n                                                          \r\n                                                            <td>{`${items.patient_details.patient_first_name} ${items.patient_details.patient_last_name}`}</td>\r\n                                                            <td>{items.appointment_date}</td>\r\n                                                            <td>{items.appointment_time}</td>\r\n                                                            <td className=\"text-warning\">{items.appointment_status}</td>\r\n                                                            <td className=\"text-right\">\r\n                                                                <div className=\"dropdown dropdown-action\">\r\n                                                                    <a className=\"action-icon dropdown-toggle\" data-toggle=\"dropdown\"\r\n                                                                        aria-expanded=\"false\"><i className=\"fa fa-ellipsis-v\"></i></a>\r\n                                                                    <div className=\"dropdown-menu dropdown-menu-right\">\r\n                                                                        <Link to={\"/appointmentUpdate/\" + items.appointment_id} className=\"dropdown-item\" ><i\r\n                                                                            className=\"fa fa-pencil m-r-5\"></i> Edit</Link>\r\n                                                                        <button className=\"dropdown-item\" data-toggle=\"modal\"\r\n                                                            data-target=\"#delete_patient\" onClick={()=>this.CancelStatus(items.appointment_id)}><i className=\"fa fa-trash-o m-r-5\"></i> Cancel</button>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    ))}</tbody>\r\n                                            )}\r\n                                        </table>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-12 col-md-6 col-lg-4 col-xl-4\">\r\n                                <div className=\"card\">\r\n                                    <div className=\"card-body\">\r\n                                        <div className=\"row\">\r\n                                            <h5 className=\"page-title\">Customer Total</h5>\r\n                                        </div>\r\n                                        <div className=\"row\">\r\n                                            <p className=\"chart-label\"><i className=\"fa fa-caret-up\"></i>15% Higher than Last Month</p>\r\n                                            <img src=\"./assets/img/report.png\" width=\"100%\" />\r\n                                        </div>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-md-12 col-sm-12 col-lg-12 col-xl-12\">\r\n                                                <div className=\"dash-widget\">\r\n                                                    <div className=\"dash-widget-info text-right\">\r\n                                                        MTD<h3><a href=\"report-payments-by-customers.html\" style={{ color: 'gray' }}>150</a></h3>\r\n                                                        YTD<h3><a href=\"report-payments-by-customers.html\" style={{ color: 'gray' }}>6,530</a></h3>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"sidebar-overlay\" data-reff=\"\"></div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default Dashboard;"]},"metadata":{},"sourceType":"module"}